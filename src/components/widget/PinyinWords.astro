---
import type { PinyinWord } from "@/common/types";
import { pinyin } from "pinyin-pro";

interface Props {
    word: string;
}

const { word } = Astro.props;

const py = pinyin(word, { type: "array" });

const pinyinWords: PinyinWord[] = py.map((pinyin, index) => ({
    pinyin,
    word: word[index],
}));
---

<div class="flex flex-row flex-wrap items-end">
    {
        pinyinWords.map((pw) => (
            <div class="flex flex-col items-center md:text-xl mr-2">
                {pw.pinyin === pw.word ? (
                    <span class="mb-2" />
                ) : (
                    <span class="mb-2">{pw.pinyin}</span>
                )}
                <span>{pw.word}</span>
            </div>
        ))
    }
</div>
